<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sakura Quest</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; overflow: hidden; }
        @keyframes pulse {
            0%, 100% { transform: scale(1); box-shadow: 0 4px 14px 0 rgba(255, 107, 138, 0.39); }
            50% { transform: scale(1.05); box-shadow: 0 6px 20px 0 rgba(255, 107, 138, 0.5); }
        }
        .sakura-fall-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; overflow: hidden; }
        .sakura-petal { position: absolute; width: 10px; height: 10px; background-color: #FFB7C5; border-radius: 50% 0; animation: fall 12s linear infinite; }
        @keyframes fall {
            0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(110vh) rotate(720deg); opacity: 0; }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- D·ªÆ LI·ªÜU MENU ---
        const MENU_ITEMS = [ { id: "Roadmap", label: "L·ªô tr√¨nh", icon: "üó∫Ô∏è" }, { id: "Practice", label: "Luy·ªán t·∫≠p", icon: "üèãÔ∏è" }, { id: "Leaderboard", label: "X·∫øp h·∫°ng", icon: "üèÜ" }, { id: "Shop", label: "C·ª≠a h√†ng", icon: "üõçÔ∏è" }, { id: "Community", label: "C·ªông ƒë·ªìng", icon: "üó£Ô∏è" } ];
        const ROADMAP_LEVELS = [
            { id: "N5", label: "Chinh ph·ª•c N5", icon: "üå±", color: "#4CAF50" },
            { id: "N4", label: "Chinh ph·ª•c N4", icon: "üå≥", color: "#81C784" },
            { id: "N3", label: "Chinh ph·ª•c N3", icon: "‚õ∞Ô∏è", color: "#2196F3" },
            { id: "N2", label: "Chinh ph·ª•c N2", icon: "üåü", color: "#FFC107" },
            { id: "N1", label: "Chinh ph·ª•c N1", icon: "üëë", color: "#F44336" },
        ];
        
        // --- STYLESHEET ---
        const styles = {
            appContainer: { display: 'flex', flexDirection: 'column', height: '100vh', maxWidth: '600px', margin: 'auto', backgroundColor: '#FFF5F7', boxShadow: '0 0 10px rgba(0,0,0,0.1)', position: 'relative' },
            mainContent: { flex: 1, display: 'flex', flexDirection: 'column', overflow: 'hidden' },
            header: { padding: '16px', textAlign: 'center', flexShrink: 0 },
            headerTitle: { fontSize: 24, fontWeight: 'bold', color: '#5a3838' },
            backButton: { position: 'absolute', top: 16, left: 16, cursor: 'pointer', border: 'none', background: 'rgba(255,255,255,0.8)', borderRadius: '50%', width: 40, height: 40, zIndex: 30, fontSize: 20, color: '#FF6B8A', display: 'flex', justifyContent: 'center', alignItems: 'center' },
            loginContainer: { background: 'linear-gradient(180deg, #FFB7C5 0%, #FFF5F7 100%)', height: '100vh', display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center', padding: 24, boxSizing: 'border-box' },
            loginCard: { background: 'white', borderRadius: 20, padding: '32px 24px', boxShadow: '0 10px 15px -3px rgb(0 0 0 / 0.1)', width: '100%', maxWidth: '350px', textAlign: 'center' },
            logoText: { fontSize: 32, fontWeight: 'bold', color: '#FF6B8A', margin: '0 0 8px 0' },
            inputField: { width: '100%', padding: '12px 16px', border: '1px solid #D1D5DB', borderRadius: 8, marginTop: 16, boxSizing: 'border-box', fontSize: '16px' },
            loginButton: { backgroundColor: '#FF6B8A', padding: '12px', borderRadius: 8, textAlign: 'center', marginTop: 24, border: 'none', cursor: 'pointer', color: 'white', fontSize: 16, fontWeight: 'bold', width: '100%' },
            divider: { display: 'flex', alignItems: 'center', color: '#9CA3AF', margin: '24px 0' },
            dividerLine: { flex: 1, height: '1px', backgroundColor: '#E5E7EB' },
            googleButton: { display: 'flex', justifyContent: 'center', alignItems: 'center', width: '100%', padding: '12px', border: '1px solid #D1D5DB', borderRadius: 8, background: 'white', cursor: 'pointer', fontSize: '16px' },
            hubContainer: { display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center', height: '100%', background: 'linear-gradient(180deg, #FFF5F7 0%, #FFDDE1 100%)', width: '100%', position: 'relative' },
            wheelContainer: { position: 'relative', width: 350, height: 250, display: 'flex', justifyContent: 'center', alignItems: 'center', margin: '20px 0' },
            menuItem: { position: 'absolute', width: 100, height: 120, display: 'flex', flexDirection: 'column', justifyContent: 'flex-start', alignItems: 'center', transition: 'all 0.5s ease-out', cursor: 'pointer' },
            itemContent: { display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center', width: 80, height: 80, background: 'white', borderRadius: '50%', boxShadow: '0 4px 10px rgba(0,0,0,0.1)', transition: 'all 0.3s ease' },
            menuIcon: { fontSize: 32 },
            menuLabel: { fontSize: 12, fontWeight: 'bold', color: '#5a3838', marginTop: 88, textAlign: 'center', position: 'absolute', width: '100%' },
            primaryButtonHub: { background: 'linear-gradient(45deg, #FF6B8A, #FF899D)', padding: '16px 40px', borderRadius: 50, textAlign: 'center', marginTop: 40, border: 'none', cursor: 'pointer', color: 'white', fontSize: 20, fontWeight: 'bold', animation: 'pulse 2s infinite' },
        };

        // --- C√ÅC COMPONENT M√ÄN H√åNH ---
        const LoginScreen = ({ onLogin }) => ( <div style={styles.loginContainer}><div style={styles.loginCard}><h1 style={styles.logoText}>üå∏ Sakura Quest</h1><p style={{color: '#6B7280', marginTop: 8}}>ƒêƒÉng nh·∫≠p ƒë·ªÉ b·∫Øt ƒë·∫ßu h√†nh tr√¨nh</p><input type="text" placeholder="Email ho·∫∑c S·ªë ƒëi·ªán tho·∫°i" style={styles.inputField} /><input type="password" placeholder="M·∫≠t kh·∫©u" style={styles.inputField} /><button style={styles.loginButton} onClick={onLogin}>ƒêƒÉng nh·∫≠p</button><div style={styles.divider}><div style={styles.dividerLine}></div><span style={{margin: '0 16px'}}>HO·∫∂C</span><div style={styles.dividerLine}></div></div><button style={styles.googleButton} onClick={onLogin}><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" style={{marginRight: 8}}><path d="M19.8398 10.2104C19.8398 9.53043 19.7848 8.87043 19.6748 8.23043H10.1548V11.9704H15.6548C15.4248 13.2504 14.7348 14.3404 13.6848 15.0604V17.5804H17.0348C18.8448 15.9304 19.8398 13.3004 19.8398 10.2104Z" fill="#4285F4"></path><path d="M10.1548 20.0004C12.8348 20.0004 15.0548 19.1104 16.6048 17.5804L13.6848 15.0604C12.7848 15.6604 11.5848 16.0304 10.1548 16.0304C7.43484 16.0304 5.15484 14.1804 4.29484 11.6604H0.814844V14.2604C2.46484 17.5804 6.01484 20.0004 10.1548 20.0004Z" fill="#34A853"></path><path d="M4.29482 11.66C4.10482 11.09 4.00482 10.49 4.00482 9.87999C4.00482 9.26999 4.11482 8.67999 4.29482 8.10999V5.50999H0.814819C0.294819 6.58999 0 7.82999 0 9.11999C0 10.41 0.294819 11.65 0.814819 12.73L4.29482 10.13V11.66Z" fill="#FBBC05"></path><path d="M10.1548 3.96957C11.6648 3.96957 12.9248 4.49957 13.9948 5.51957L16.6648 2.84957C15.0448 1.34957 12.8348 0 10.1548 0C6.01484 0 2.46484 2.41957 0.814844 5.73957L4.29484 8.33957C5.15484 5.81957 7.43484 3.96957 10.1548 3.96957Z" fill="#EA4335"></path></svg><span>ƒêƒÉng nh·∫≠p v·ªõi Google</span></button></div></div> );
        const FeatureScreen = ({ screenName, onBack }) => ( <div style={{...styles.mainContent, alignItems: 'center', justifyContent: 'center'}}><button style={styles.backButton} onClick={onBack}>&larr;</button><header style={styles.header}><h1 style={styles.headerTitle}>{screenName}</h1></header><p>N·ªôi dung c·ªßa ch·ª©c nƒÉng "{screenName}" s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü ƒë√¢y.</p></div> );
        const SakuraFallOverlay = () => { return <div className="sakura-fall-overlay">{[...Array(50)].map((_, i) => <div key={i} className="sakura-petal" style={{left: `${Math.random() * 100}vw`, animationDelay: `${Math.random() * 10}s`, animationDuration: `${8 + Math.random() * 7}s`}}></div>)}</div>; };
        
        const CircularMenu = ({ onNavigate, menuItems, title }) => {
            const [rotation, setRotation] = useState(0);
            const intervalRef = useRef(null);
            
            const numItems = menuItems.length;
            const anglePerItem = 360 / numItems;

            const activeIndex = Math.round((-rotation % 360) / anglePerItem + numItems) % numItems;

            useEffect(() => {
                intervalRef.current = setInterval(() => {
                    setRotation(prev => prev - 0.4); 
                }, 50);
                return () => clearInterval(intervalRef.current);
            }, []);
            
            return (
                <div style={styles.hubContainer}>
                    <div style={{...styles.wheelContainer, marginTop: '20px'}}>
                        {menuItems.map((item, index) => {
                            const itemAngle = index * anglePerItem + rotation;
                            const rad = itemAngle * (Math.PI / 180);
                            const radiusX = 130;
                            const radiusY = 90;
                            const x = radiusX * Math.sin(rad);
                            const y = -radiusY * Math.cos(rad);
                            const scale = (y + radiusY) / (2 * radiusY) * 0.6 + 0.7;
                            const zIndex = Math.round(scale * 100);
                            const isActive = index === activeIndex;
                            
                            const itemStyle = { ...styles.menuItem, top: '50%', left: '50%', transform: `translate(-50%, -50%) translate(${x}px, ${y}px) scale(${scale})`, zIndex: zIndex };
                            const contentStyle = {...styles.itemContent, borderColor: item.color || '#FF6B8A', borderWidth: isActive ? '3px' : '1px', borderStyle: 'solid'};

                            return (
                                <div key={item.id} style={itemStyle} onClick={() => onNavigate(item.id)}>
                                    <div style={contentStyle}>
                                        <span style={styles.menuIcon}>{item.icon}</span>
                                    </div>
                                    <p style={{...styles.menuLabel, color: isActive ? item.color || '#FF6B8A' : '#5a3838', opacity: isActive ? 1 : 0.7 }}>{item.label}</p>
                                </div>
                            );
                        })}
                    </div>
                    <button style={styles.primaryButtonHub} onClick={() => onNavigate(menuItems[activeIndex].id)}>
                       B·∫Øt ƒë·∫ßu
                    </button>
                </div>
            );
        };
        
        // --- COMPONENT APP CH√çNH ---
        function App() {
            const [isLoggedIn, setIsLoggedIn] = useState(false);
            const [currentScreen, setCurrentScreen] = useState('Hub'); 

            if (!isLoggedIn) {
                return <LoginScreen onLogin={() => setIsLoggedIn(true)} />;
            }
            
            const renderContent = () => {
                switch(currentScreen) {
                    case 'Hub':
                        return <CircularMenu onNavigate={(screen) => setCurrentScreen(screen)} menuItems={MENU_ITEMS} title="Menu Ch√≠nh"/>;
                    case 'Roadmap':
                        return <CircularMenu onNavigate={(level) => alert(`Chuy·ªÉn ƒë·∫øn L·ªô tr√¨nh ${level}`)} menuItems={ROADMAP_LEVELS} title="Ch·ªçn C·∫•p ƒë·ªô"/>;
                    default:
                        return <FeatureScreen screenName={currentScreen} onBack={() => setCurrentScreen('Hub')} />;
                }
            }

            return (
                <div style={styles.appContainer}>
                    <SakuraFallOverlay />
                    <div style={styles.mainContent}>
                        {currentScreen !== 'Hub' && <button style={styles.backButton} onClick={() => setCurrentScreen('Hub')}>&larr;</button>}
                        {renderContent()}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);

    </script>
</body>
</html>
